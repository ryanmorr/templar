/*! templar v0.1.1 | https://github.com/ryanmorr/templar */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.templar=e()}}(function(){return function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},f=e("./binding"),l=r(f),c=e("./parser"),d=e("./util"),p=function(e){function t(e,n,r,u){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u));return a.node=n,a.attr=r,a}return u(t,e),a(t,[{key:"render",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);var e=(0,c.interpolate)(this.text,this.tpl.data).trim();return""===e?void this.node.removeAttribute(this.attr):void(0,d.setAttribute)(this.node,this.attr,e)}}]),t}(l["default"]);n["default"]=p,t.exports=n["default"]},{"./binding":2,"./parser":5,"./util":7}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./util"),u=function(){function e(t,n){r(this,e),this.tpl=t,this.text=n}return o(e,[{key:"setTokens",value:function(e){this.tokens=e}},{key:"shouldUpdate",value:function(){var e=this;return this.tokens.every(function(t){return t in e.tpl.data})}},{key:"update",value:function(){this.renderer||(this.renderer=this.render.bind(this),(0,i.updateDOM)(this.renderer))}},{key:"render",value:function(){this.renderer=null}}]),e}();n["default"]=u,t.exports=n["default"]},{"./util":7}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return new u["default"](e,t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=o;var i=e("./templar"),u=r(i);t.exports=n["default"]},{"./templar":6}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},f=e("./templar"),l=r(f),c=e("./binding"),d=r(c),p=e("./parser"),h=e("./util"),v=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.data));return r.nodes=[n],r}return u(t,e),a(t,[{key:"purge",value:function(){this.nodes.forEach(function(e){if(e instanceof l["default"])return void e.unmount();var t=e.parentNode;t&&t.removeChild(e)})}},{key:"render",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);var e=[],n=this.nodes[0],r=(0,h.getParent)(n),o=(0,h.getNodeIndex)(r,n),i=r.childNodes;this.purge();var u=(0,p.interpolateDOM)(this.text,this.tpl.data,function(t){t instanceof l["default"]&&(t.root=r),11===t.nodeType?e.push.apply(e,t.childNodes):e.push(t)});this.nodes=e,o in i?r.insertBefore(u,i[o]):r.appendChild(u)}}]),t}(d["default"]);n["default"]=v,t.exports=n["default"]},{"./binding":2,"./parser":5,"./templar":6,"./util":7}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.indexOf("{{")!==-1}function i(e,t,n){(0,g.getMatches)(_,t,function(t){var r=t[1],o=a(r);n.setTokens(o),w.test(r)||u(r,o),o.forEach(function(t){t in e||(e[t]=[]),e[t].push(n)})})}function u(e,t){if(!(e in x)){var n="return "+e+";";if(t.length){var r=t.map(function(e){return e+" = this['"+e+"']"});n="var "+r.join(",")+"; "+n}x[e]=new Function(n)}}function a(e){return(e.replace(M,"").match(k)||[]).reduce(function(e,t){return t=t.match(j)[1],e.indexOf(t)===-1&&e.push(t),e},[])}function s(e,t){return e in x?x[e].call(t):t[e]}function f(e,t){return e.replace(_,function(e,n){return s(n,t)})}function l(e,t,n){var r=document.createDocumentFragment();return(0,g.getMatches)(O,e,function(e){var o=void 0;if(null!=e[1]){var i=e[1],u=!1;switch("&"===i[0]&&(u=!0,i=i.substr(1)),o=s(i,t),"undefined"==typeof o?"undefined":d(o)){case"string":if(!u&&(0,g.isHTML)(o)){o=(0,g.parseHTML)(o);break}case"number":case"boolean":o=document.createTextNode((0,g.escapeHTML)(o));break;default:o instanceof h["default"]&&o.mount(r)}}else null!=e[2]&&(o=document.createTextNode(e[2]));null!=o&&(n(o),o.nodeName&&r.appendChild(o))}),r}function c(e,t){var n=arguments.length<=2||void 0===arguments[2]?(0,g.hashmap)():arguments[2];return(0,g.toArray)(t).reduce(function(t,n){if(3===n.nodeType){if(o(n.data)){var r=new y["default"](e,n);i(t,n.data,r)}}else if(1===n.nodeType){for(var u,a=0,s=n.attributes.length;a<s;a++)if(u=n.attributes[a],o(u.value)){var f=new b["default"](e,n,u.name,u.value);i(t,u.value,f)}n.hasChildNodes()&&c(e,n.childNodes,t)}return t},n)}Object.defineProperty(n,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n.interpolate=f,n.interpolateDOM=l,n.parseTemplate=c;var p=e("./templar"),h=r(p),v=e("./node-binding"),y=r(v),m=e("./attr-binding"),b=r(m),g=e("./util"),_=/\{\{\s*\&?(.+?)\s*\}\}/g,O=/\{\{\s*(.+?)\s*\}\}|((?:(?!(?:\{\{\s*(.+?)\s*\}\})).)+)/g,w=/^\&?[A-Za-z0-9_]+$/,M=/"[^"]*"|'[^']*'|\/([^\/]+)\/|true|false/g,k=/[a-zA-Z_]\w*([.][a-zA-Z_]\w*)*/g,j=/^([^.]+)/,x=(0,g.hashmap)()},{"./attr-binding":1,"./node-binding":4,"./templar":6,"./util":7}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./parser"),u=e("./util"),a=function(){function e(t,n){r(this,e),this.id=(0,u.uid)();var o=(0,u.parseHTML)(t);this.root=this.frag=(0,u.wrapFragment)(o,this.id),this.bindings=(0,i.parseTemplate)(this,o.childNodes),this.data=(0,u.hashmap)(),this.mounted=!1,this.destroyed=!1,n&&this.set(n)}return o(e,[{key:"destroy",value:function(){this.isDestroyed()||(this.isMounted()&&this.unmount(),this.root=this.frag=this.data=this.bindings=null,this.destroyed=!0)}},{key:"mount",value:function(e){return this.isMounted()&&this.unmount(),e.appendChild(this.frag),this.root=e,this.mounted=!0,this}},{key:"unmount",value:function(){var e=this;return this.isMounted()&&((0,u.getTemplateNodes)(this.getRoot(),this.id).forEach(function(t){e.frag.appendChild(t)}),this.root=this.frag,this.mounted=!1),this}},{key:"get",value:function(e){return e in this.data?this.data[e]:null}},{key:"set",value:function(e,t){var n=this;return"string"!=typeof e?void Object.keys(e).forEach(function(t){return n.set(t,e[t])}):(null!=t&&(this.data[e]=t,e in this.bindings&&!function(){var t=n.isRendered()?"update":"render";n.bindings[e].forEach(function(e){e.shouldUpdate()&&e[t]()})}()),this)}},{key:"find",value:function(e){return this.getRoot().querySelector(e)}},{key:"query",value:function(e){return(0,u.toArray)(this.getRoot().querySelectorAll(e))}},{key:"getRoot",value:function(){return this.root}},{key:"isMounted",value:function(){return this.mounted}},{key:"isRendered",value:function(){return this.isMounted()&&(0,u.contains)(document,this.getRoot())}},{key:"isDestroyed",value:function(){return this.destroyed}}]),e}();n["default"]=a,t.exports=n["default"]},{"./parser":5,"./util":7}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return Object.create(null)}function i(e){return"from"in Array?Array.from(e):M.call(e)}function u(e,t,n){var r=void 0;for(e.global&&(e.lastIndex=0);r=e.exec(t);)n(r)}function a(e,t){return"contains"in e?e.contains(t):!!(16&e.compareDocumentPosition(t))}function s(e){return null==e?"":"string"==typeof e?e.replace(x,function(e){return T[e]||""}):e}function f(e){return j.test(e)}function l(e){if(P){var t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}var n=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)n.appendChild(r.firstChild);return n}function c(e){_&&cancelAnimationFrame(_),w.push(e),_=requestAnimationFrame(function(){_=null;for(var e=void 0;e=w.shift();)e()})}function d(){return Math.floor(65536*(O++ +Math.random())).toString(16).substring(1)}function p(e,t){if(t instanceof g["default"]){var n=0,r=t;for(t=e.firstChild;t;){if(t.templar===r.id)return n;t=t.nextSibling,n++}return 0}return k.call(e.childNodes,t)}function h(e){return e instanceof g["default"]?e.getRoot():e.parentNode}function v(e,t){var n=document.createTextNode(""),r=document.createTextNode("");return n.templar=r.templar=t,e.insertBefore(n,e.firstChild),e.appendChild(r),e}function y(e,t){for(var n=[],r=e.firstChild,o=!1;r;)r.templar!==t||o?r.templar===t&&o&&(o=!1,n.push(r)):o=!0,o&&n.push(r),r=r.nextSibling;return n}function m(e,t,n){switch("true"===n?n=!0:"false"===n&&(n=!1),t){case"class":e.className=n;break;case"style":e.style.cssText=n;break;case"value":var r=e.tagName.toLowerCase();if("input"===r||"textarea"===r){e.value=n;break}default:if(t in e)return void(e[t]=n);e.setAttribute(t,n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.hashmap=o,n.toArray=i,n.getMatches=u,n.contains=a,n.escapeHTML=s,n.isHTML=f,n.parseHTML=l,n.updateDOM=c,n.uid=d,n.getNodeIndex=p,n.getParent=h,n.wrapFragment=v,n.getTemplateNodes=y,n.setAttribute=m;var b=e("./templar"),g=r(b),_=void 0,O=1,w=[],M=[].slice,k=[].indexOf,j=/<[a-z][\s\S]*>/,x=/[<>&"']/g,T={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&#39;","'":"&quot;"},P="content"in document.createElement("template")},{"./templar":6}]},{},[3])(3)});
//# sourceMappingURL=templar.min.js.map
